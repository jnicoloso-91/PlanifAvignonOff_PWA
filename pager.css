/* ===============================
   Pager (autonome)
   - occupe 100% du viewport
   - 2 pages horizontales (catalogs / planning)
   - chaque page = 100vw x 100vh
   =============================== */

/* Reset minimal pour fiabiliser le 100vh sur mobile */
:root { 
  --vh: 1vh; /* si tu veux gérer le bug iOS via JS, optionnel */
}
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overscroll-behavior: none;
  -webkit-tap-highlight-color: transparent;
}

/* Le conteneur pager : couvre tout l’écran */
#pager {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;              /* masque le débordement horizontal */
  touch-action: pan-y;           /* on gère le pan-x en JS */
  background: #fff;              /* fond par défaut */
}

/* Rail horizontal des pages */
#pager .pager-track {
  display: flex;
  height: 100%;
  will-change: transform;
  transform: translate3d(0,0,0);
}

/* Chaque page : 100vw x 100vh, pas de grow/shrink */
#pager .pager-track > .page {
  flex: 0 0 100vw;
  width: 100vw;
  /* height: 100vh; */
  box-sizing: border-box;
  overflow: auto;                /* scroll vertical interne par page */
  -webkit-overflow-scrolling: touch;
}

/* Empêche d’interagir avec les pages non actives (claviers, focus, etc.) */
#pager .pager-track > .page:not(.is-active) {
  pointer-events: none;
}

/* ---------------------------------
   Safe areas iOS (optionnel)
   --------------------------------- */
@supports(padding: env(safe-area-inset-bottom)) {
  #pager .pager-track > .page {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* ---------------------------------
   (Optionnel) Header d’app si présent
   - cache le header sur certaines pages via .hidden
   --------------------------------- */
/* .app-header {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 48px;
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: 0 12px;
  border-bottom: 1px solid #eef0f2;
  backdrop-filter: saturate(180%) blur(8px);
  z-index: 10;
  transition: transform .2s ease, opacity .2s ease;
} */
.app-header.hidden {
  transform: translateY(-100%);
  opacity: 0;
  pointer-events: none;
}

/* Si tu utilises un header, pense à compenser son espace dans la page */
/* .has-header #pager .pager-track > .page {
  padding-top: var(--header-h); 
} */

/* #pager { position: relative; width: 100%; height: 100%; overflow: hidden; } */
/* #pager .pager-track { display: flex; height: 100%; will-change: transform; } */
/* #pager .page { flex: 0 0 100%; height: 100%; overflow: auto; } */

#pager.is-dragging .page { pointer-events: none; } /* désactive clics pendant drag */

/* ===============================
   Ajustement de la hauteur des pages
   =============================== */

/* Le conteneur global du pager */
#pager {
  position: relative;
  display: flex;
  flex-direction: column;
  width: 100%;
  /* height: calc(100vh - env(safe-area-inset-bottom) - var(--header-h, 0px)); */
  /* height: calc(100vh - env(safe-area-inset-bottom));  */
  /* height: calc(100svh - env(safe-area-inset-bottom) -var(--safe-gap));  */
  /* height: calc(100vh - env(safe-area-inset-bottom) - var(--header-h));  */
  /* height: var(--pager-h, 100vh);  */
  overflow: hidden;
}

/* Valeur par défaut (iOS anciens & fallback) */
#pager {
  height: 100svh; /* small vh (small viewport height) = zone visible quand barres affichées */
}

/* Si le navigateur supporte 100dvh (dynamic viewport height) → on l'utilise */
/* @supports (height: 100dvh) {
  #pager {
    height: calc(100dvh - env(safe-area-inset-bottom));
  }
} */

/* Le rail horizontal */
#pager .pager-track {
  display: flex;
  width: 100%;
  height: 100%;
  will-change: transform;
  transition: transform .4s ease;
}

/* Chaque page = toute la zone sous le header */
#pager .page {
  flex: 0 0 100%;
  width: 100%;
  box-sizing: border-box;
  overflow-y: auto;

  padding-top: var(--header-h, 48px); /* espace auto sous header */
  /* height: calc(100vh - var(--header-h, 3.5rem)); */
  /* height: calc(100vh - env(safe-area-inset-bottom) - var(--header-h, 0px)); */
  height: 100%;

  /*padding-top: var(--app-header-height, 3.0rem); /* espace auto sous header */
  /* height: calc(100vh - var(--app-header-height, 3.5rem)); */

  /* height: calc(var(--vh, 100vh) - var(--header-h, 0px));
  overflow: hidden;       pas de scroll de la page elle-même */
  scroll-padding-top: calc(var(--header-h, 48px));
}

/* Le header fixe et sa hauteur déclarée */
/* header.app-header {
  --app-header-height: 3.5rem; 
  height: var(--app-header-height);
  line-height: var(--app-header-height);
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
} */

/* La page Welcome (pas de header) */
/* #pager .page--welcome { --header-h: 0px; } */

/* Quand on est sur le welcome, le header reste masqué */
/* body.hide-app-header #pager .page {
  padding-top: 0;
  height: 100vh;
} */

/*=================================
  Welcome
  =================================*/
#welcome {
  height: 100svh;              /* small viewport height = zone réellement visible */
  width: 100svw;
  position: fixed;
  inset: 0;
  background: linear-gradient(180deg, #3d3f42 0%, #000000 100%);
  color: white;

  /* display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center; */

  display: grid;
  place-items: center;
  padding: max(16px, env(safe-area-inset-top)) 16px max(16px, env(safe-area-inset-bottom)) 16px;
  box-sizing: border-box;

  z-index: 5000;          /* > header et pager */
  font-family: system-ui, sans-serif;
  opacity: 1;
  transform: none;
  transition: opacity .45s ease, transform .45s ease;
}

/* Si le navigateur supporte 100dvh (viewport dynamique) */
@supports (height: 100dvh) {
  #welcome { 
    height: 100dvh; 
    width: 100dvw;
  }
}

/* Petit effet d’apparition */
#welcome .welcome-inner {
  width: min(92vw, 640px);
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;                /* ← remplace ton énorme margin-bottom */
  text-align: center;
  animation: fadeUp .8s ease both;
}

#pager {
  opacity: 0;
  transform: translateX(30%);
  transition: opacity .45s ease, transform .45s ease;
}

/* --- Sortie du welcome --- */
#welcome.is-leaving {
  opacity: 0;
  transform: translateX(-30%);
}

/* --- Entrée du pager --- */
#pager.is-entering {
  opacity: 1;
  transform: translateX(0);
}

/* --- Blocage des clics pendant la transition --- */
.transition-lock {
  pointer-events: none;
}

#welcome .welcome-inner {
  max-width: 80%;
}

#welcome .welcome-title {
  font-size: 8rem;
  font-weight: 100;
  margin-bottom: 10rem;
  word-break: break-word;
  /* font-size: clamp(28px, 10vw, 64px); */
}
@media (max-width: 768px) {
  #welcome .welcome-title {
    font-size: 5rem;
    font-weight: 80;
    margin-bottom: 10rem;
  }
}

#welcome .welcome-sub {
  font-size: 1rem;
  opacity: .85;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

/*---------------------------------*/
/*  Page Catalogues                */
/*---------------------------------*/

/* La page "Catalogues" occupe tout l'espace utile,
   et se décale du header via --header-h */
.page--catalogs{
  box-sizing: border-box;
  height: 100%;

  overflow: auto;                                      /* défilement si besoin */
  display: flex;
  flex-direction: column;
  
  background: radial-gradient(120% 120% at 100% 0%, #1f2937 0%, #0b0f14 35%, #000 70%), #000;
  color: #fff;
  padding: 16px;
}

/* Conteneur de la grille de boutons */
.page--catalogs .catalog-grid{
  display: grid;
  grid-template-columns: 1fr;                          /* 1 colonne par défaut */
  gap: 4vh 4vw;                                        /* espace vertical / horizontal */
  align-content: start;                                /* colle en haut */
  justify-items: stretch;                              /* boutons = pleine largeur de cellule */
  width: 100%;
  
  padding-top: 40px;                   /* distance sous l'en-tête */
  padding-left:  min(6vw, 30px);                       /* padding confortable */
  padding-right: min(6vw, 30px);
  /* padding-bottom: max(6vh, 30px, env(safe-area-inset-bottom, 0px)); */
  padding-bottom: max(6vw, 30px, env(safe-area-inset-bottom, 0px));
}

/* En paysage → 2 colonnes */
@media (orientation: landscape){
  .page--catalogs .catalog-grid{
    grid-template-columns: 1fr 1fr;
  }
}

/* Bouton "catalogue" full-bleed dans sa cellule,
   hauteur responsive et facilement ajustable */
.page--catalogs .catalog-btn{
  display: flex;
  align-items: center;
  /* justify-content: center; */
  width: 100%;

  /* Hauteur ajustable : modifie la 2e valeur pour plus/moins haut */
  height: clamp(56px, 15vh, 140px);
  -webkit-tap-highlight-color: transparent;
  appearance: none;
  border: 1px solid rgba(255,255,255,.16);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.12));
  color: #f9fafb;
  border-radius: 16px;
  padding: 3vh 3.5vw;
  gap: 2.2vh;
  
  cursor: pointer;
  user-select: none;
  text-align: left;
  box-shadow:
    0 6px 20px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.04);
  transition: transform .08s ease, background .18s ease, box-shadow .18s ease, border-color .18s ease;
  backdrop-filter: saturate(140%) blur(6px);
}

.page--catalogs .catalog-btn:hover{
  border-color: rgba(255,255,255,.22);
  background:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(0,0,0,.10));
  box-shadow:
    0 10px 28px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.06);
}
.page--catalogs .catalog-btn:active{
  transform: translateY(1px) scale(.996);
}

/* Icône + texte */
.page--catalogs .catalog-btn .icon{
  flex: 0 0 auto;
  width: 28px; height: 28px;
  display: inline-flex; align-items:center; justify-content:center;
  opacity: .95;
}
.page--catalogs .catalog-btn .icon svg{
  width: 100%; height: 100%;
  stroke: currentColor; fill: none; stroke-width: 2;
}
.page--catalogs .catalog-btn .txt{
  display: flex; flex-direction: column; gap: .6vh; min-width: 0;
}
.page--catalogs .catalog-btn .label{
  font-size: clamp(16px, 2.2vh, 22px);
  font-weight: 600;
  color: #f3f4f6;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.page--catalogs .catalog-btn .sub{
  font-size: clamp(12px, 1.7vh, 14px);
  color: #9ca3af;
}

/* Variante “clair” (si tu veux un bouton plus lumineux) */
.page--catalogs .catalog-btn.is-bright{
  background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
  color: #fff;
  border-color: rgba(255,255,255,.25);
}

/*============================
  Resolution pb de swip sur page catalogue sur IOS
  ============================*/
  /* Le conteneur pager ne doit pas “scroller” horizontalement */
#pager {
  overflow: hidden;                 /* stoppe tout scroll natif du pager */
  overscroll-behavior-x: contain;   /* pas d’élastique horizontal */
  touch-action: pan-y;              /* le navigateur gère le vertical, pas l’horizontal */
}

/* La piste qui translate ne doit pas capter d’overscroll non plus */
#pager .pager-track {
  overscroll-behavior: contain;     /* évite propagation du scroll */
}

/* La page “Catalogues” ne doit pas offrir de scroll horizontal natif */
.page--catalogs {
  overflow-x: hidden;               /* pas de scroll horizontal natif (pour ne pas inteférer avec le swip est géré par le pager parent) */
  overflow-y: hidden;               /* pas de scroll vertical */
  touch-action: pan-y;              /* idem : on laisse le vertical natif */
  -webkit-overflow-scrolling: touch;/* fluidité verticale iOS */
}

#pg-next{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);      /* centre visuel parfait */
  border: 2px;                           /* pas de bordure */
  background: transparent;               /* fond transparent */
  padding: 4px 10px;
  font: inherit;
  font-size: 1.5rem;
}

